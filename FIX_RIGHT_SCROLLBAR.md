# ✅ 隐藏右侧竖向滚动条

## 问题描述
右侧表格显示竖向滚动条，看起来有两个滚动条（左右各一个）。

## 解决方案

### 为什么隐藏右侧滚动条？
- 左右表格是**同步滚动**的
- 滚动左侧时，右侧自动跟随
- 滚动右侧时，左侧自动跟随
- **只需要一个滚动条就够了**

### 实现方式
使用 CSS 隐藏右侧表格的竖向滚动条：

```css
/* 隐藏右侧表格的竖向滚动条 */
.diff-right-table::-webkit-scrollbar {
  width: 0px !important;  /* 竖向滚动条宽度为0 */
  height: 12px;           /* 保留横向滚动条 */
}
```

### 效果

**之前:**
```
┌─────────────┐  ┌─────────────┐
│ 左侧表格    │█ │ 右侧表格    │█
│             │█ │             │█
│             │█ │             │█
└─────────────┘  └─────────────┘
   滚动条 ↑         滚动条 ↑
```

**之后:**
```
┌─────────────┐  ┌─────────────┐
│ 左侧表格    │█ │ 右侧表格    │
│             │█ │             │
│             │█ │             │
└─────────────┘  └─────────────┘
   滚动条 ↑      无滚动条 ✓
```

### 优势

1. **界面更简洁** - 只有一个滚动条
2. **避免混淆** - 用户不会疑惑该用哪个滚动条
3. **节省空间** - 右侧多出 12px 宽度
4. **功能不变** - 同步滚动仍然正常工作

### 修改的文件
- `src/renderer/components/ModernTable.less` - 添加滚动条隐藏规则
- `src/renderer/pages/table/VirtualDiffTable.tsx` - 优化列宽计算

## 测试

### 测试1: 虚拟化模式
```bash
npm start -- --excel "test-data/left-1000.xlsx" --excel "test-data/right-1000.xlsx"
```
- [ ] 左侧有竖向滚动条
- [ ] 右侧无竖向滚动条
- [ ] 滚动左侧，右侧同步
- [ ] 滚动右侧（鼠标在右侧区域），左侧同步

### 测试2: 标准模式
切换到标准模式：
- [ ] 左侧有竖向滚动条
- [ ] 右侧无竖向滚动条
- [ ] 同步滚动正常

### 测试3: 横向滚动
如果有横向滚动条：
- [ ] 左右两侧都有横向滚动条
- [ ] 横向滚动同步正常

## 技术细节

### CSS 选择器
```css
/* 虚拟化表格 */
.diff-right-table::-webkit-scrollbar {
  width: 0px !important;
}

/* 标准表格 */
.diff-right-table .ant-table-body::-webkit-scrollbar {
  width: 0px !important;
}
```

### 浏览器兼容性
- ✅ Chrome/Edge (Chromium)
- ✅ Electron (基于 Chromium)
- ⚠️ Firefox (需要不同的 CSS)
- ⚠️ Safari (需要不同的 CSS)

**注意**: 本项目使用 Electron，基于 Chromium，完全支持。

## 编译状态
✅ 0 错误
⚠️ 108 警告（可接受）

---

**修复时间**: 2026-02-05
**状态**: ✅ 已修复
